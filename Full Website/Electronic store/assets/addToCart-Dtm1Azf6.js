import{g as d,s as S,C as q,p as f}from"./showToast-Bv3qAoZ3.js";const y=()=>{let c=d(),t=document.querySelector(".productSubTotal"),a=document.querySelector(".productFinalTotal"),r=c.reduce((n,i)=>n+i.price,0);r=r.toFixed(2),t.innerHTML=`₹${r}`;let l=(+r+50).toFixed(2);a.innerHTML=`₹${l}`},T=(c,t,a,r)=>{let l=document.querySelector(`#cart${t}`),n=l.querySelector(".productPrice"),i=l.querySelector(".productQuantity"),e=1,o=0,u=d(),m=u.find(s=>s.id==t);m?(o=m.price,e=m.quantity):(o=r,r=r),c.target.classList.contains("cartIncrement")&&(e<a?e+=1:e==a&&(e=a,o=r*a)),c.target.classList.contains("cartDecrement")&&e>1&&(e-=1),o=Number(r)*Number(e),o=Number(o.toFixed(2));let p={id:t,quantity:e,price:o};u=u.map(s=>s.id==t?p:s),localStorage.setItem("cartProductsLS",JSON.stringify(u)),n.innerText=o,i.innerText=e,y()},g=c=>{let t=1,a,l=d().find(n=>n.id==c);return l&&(t=l.quantity,a=l.price),{quantity:t,price:a}},C=(c,t)=>{let r=d().filter(n=>{if(n.id!=t)return S("delete",t),!0});localStorage.setItem("cartProductsLS",JSON.stringify(r)),document.querySelector(`#cart${t}`).remove(),y(),q(r)};let P=d(),x=f.filter(c=>P.some(t=>t.id==c.id)),D=document.querySelector("#productCartContainer"),L=document.getElementById("productCartTemplate");const E=()=>{x.forEach(c=>{let{id:t,category:a,image:r,name:l,stock:n,price:i}=c,e=document.importNode(L.content,!0),o=g(t);e.querySelector("#cardValue").setAttribute("id",`cart${t}`),e.querySelector(".category").innerText=a,e.querySelector(".productImage").src=r,e.querySelector(".productName").innerText=l,e.querySelector(".productPrice").innerText=o.price,e.querySelector(".productQuantity").innerText=o.quantity,e.querySelector(".remove-to-cart-button").addEventListener("click",u=>{C(u,t)}),e.querySelector(".stockElement").addEventListener("click",u=>{T(u,t,n,i)}),D.appendChild(e)})};E();y();
